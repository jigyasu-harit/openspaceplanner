image: gitpod/workspace-dotnet

tasks:
    - name: Frontend
      init: |
          cd Web
          npm ci
          npm run build:dev
          gp sync-done deps
      command: |
          cd Web
          npm run watch

    - name: Backend
      init: |
          dotnet tool restore
          dotnet paket restore
          gp sync-await deps
      command: |
          cd Web
          dotnet watch run
      openMode: split-right

ports:
    - port: 5000
      onOpen: open-browser
      visibility: public
