image: gitpod/workspace-dotnet

tasks:
    - init: |
          dotnet tool restore
          dotnet paket restore
          cd Web
          npm ci
          npm run build:dev
          gp sync-done deps
    - command: |
          gp sync-await deps
          cd Web
          npm run watch
    - command: |
          gp sync-await deps
          cd Web
          dotnet watch run

ports:
    - port: 5000
      onOpen: open-browser
      visibility: public
